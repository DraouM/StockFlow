<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Enhanced Table Example</title>
    <link rel="stylesheet" href="../../assets/styles/main.css" />
    <link rel="stylesheet" href="client.css" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <aside id="sidebar"></aside>
    <div class="content">
      <h1>Client List</h1>
      <!-- Search input outside the table -->
      <div class="flex">
        <div class="search-box">
          <input
            id="table-search-input"
            type="text"
            name="table-search"
            placeholder="Search in the table..."
          />
        </div>
        <button
          data-modal="newPartyModel"
          class="button button-medium button-primary"
        >
          Display Model
        </button>
      </div>

      <table id="clientTable">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Phone</th>
            <th>Address</th>
            <th>Type</th>
            <th>Debt</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div id="clientTable-empty-message">
        <p>No clients found</p>
        <img src="../assets/empty-table.png" alt="Empty table" />
      </div>

      <!-- Modal Trigger Button -->
      <button class="open-modal-btn" aria-haspopup="dialog">
        Create New Party
      </button>

      <!-- Modal -->
      <div
        class="modal"
        id="newPartyModal"
        role="dialog"
        aria-labelledby="modalTitle"
        aria-modal="true"
        hidden
      >
        <div class="modal-content">
          <!-- Close button -->
          <button class="close" id="close-modal-btn" aria-label="Close modal">
            ×
          </button>

          <!-- Form wrapper -->
          <form id="partyCreationForm" class="container" novalidate>
            <!-- PERSONAL INFO -->
            <section class="personal-info" id="form-1">
              <div class="number-indicator" aria-hidden="true">1</div>
              <h3 class="section-title" id="modalTitle">Personal Info</h3>

              <div class="form-group">
                <label for="full-name">Full Name</label>
                <input
                  type="text"
                  id="full-name"
                  name="full-name"
                  required
                  autocomplete="name"
                />
              </div>

              <div class="form-group">
                <label for="address">Address</label>
                <input
                  type="text"
                  id="address"
                  name="address"
                  autocomplete="street-address"
                />
              </div>

              <div class="form-group">
                <label for="phone-number">Phone Number</label>
                <input
                  type="tel"
                  id="phone-number"
                  name="phone-number"
                  pattern="[0-9\s]{10,}"
                  autocomplete="tel"
                />
              </div>

              <div class="form-group">
                <label for="type">Type</label>
                <div class="select-wrapper">
                  <select id="type" name="type" required>
                    <option value="">Select a type</option>
                    <option value="customer">Customer</option>
                    <option value="supplier">Supplier</option>
                    <option value="both">Both</option>
                  </select>
                </div>
              </div>

              <button
                type="button"
                class="clear-btn button button-small button-secondary"
              >
                Clear
              </button>

              <div
                class="page-indicators"
                role="progressbar"
                aria-valuenow="1"
                aria-valuemin="1"
                aria-valuemax="2"
              >
                <span class="page-indicator active" aria-hidden="true"></span>
                <span class="page-indicator" aria-hidden="true"></span>
              </div>

              <button
                type="button"
                class="next-btn button button-small button-primary"
              >
                Next
              </button>
            </section>

            <!-- COMMERCE DETAILS -->
            <section class="commerce_details hidden" id="form-2">
              <div class="number-indicator" aria-hidden="true">2</div>
              <h3 class="section-title">Commerce Details</h3>

              <div class="form-group">
                <div class="label-with-info">
                  <label for="nrc">NRC</label>
                  <button
                    type="button"
                    class="info-icon"
                    aria-label="NRC Information"
                    data-tooltip="Numéro Registre Commerce: A unique identification number assigned to your business by the commercial registry"
                  >
                    <i class="bx bx-info-circle" aria-hidden="true"></i>
                  </button>
                </div>
                <input type="text" id="nrc" name="nrc" pattern="[\d-]{15,20}" />
              </div>

              <div class="form-group">
                <div class="label-with-info">
                  <label for="nif">NIF</label>
                  <button
                    type="button"
                    class="info-icon"
                    aria-label="NIF Information"
                    data-tooltip="Numéro d'Identification Fiscale"
                  >
                    <i class="bx bx-info-circle" aria-hidden="true"></i>
                  </button>
                </div>
                <input
                  type="text"
                  id="nif"
                  name="nif"
                  pattern="[\d\s]{15,20}"
                />
              </div>

              <div class="form-group">
                <div class="label-with-info">
                  <label for="ia">IA</label>
                  <button
                    type="button"
                    class="info-icon"
                    aria-label="IA Information"
                    data-tooltip="Identifiant Administratif"
                  >
                    <i class="bx bx-info-circle" aria-hidden="true"></i>
                  </button>
                </div>
                <input type="text" id="ia" name="ia" />
              </div>

              <div class="form-group">
                <div class="label-with-info">
                  <label for="nis">NIS</label>
                  <button
                    type="button"
                    class="info-icon"
                    aria-label="NIS Information"
                    data-tooltip="Numéro d'Identification Sociale"
                  >
                    <i class="bx bx-info-circle" aria-hidden="true"></i>
                  </button>
                </div>
                <input type="text" id="nis" name="nis" />
              </div>

              <button
                type="button"
                class="clear-btn button button-small button-secondary"
              >
                Clear
              </button>

              <div
                class="page-indicators"
                role="progressbar"
                aria-valuenow="2"
                aria-valuemin="1"
                aria-valuemax="2"
              >
                <span class="page-indicator" aria-hidden="true"></span>
                <span class="page-indicator active" aria-hidden="true"></span>
              </div>

              <div class="form-actions">
                <button
                  type="button"
                  class="prev-btn button button-small button-secondary"
                >
                  Previous
                </button>
                <button
                  type="submit"
                  class="create-btn button button-small button-primary"
                >
                  Create
                </button>
              </div>
            </section>
          </form>
        </div>
      </div>
    </div>

    <script src="../../scripts/common/EnhancedTable.js"></script>
    <script src="../../scripts/common/LoadingSpinner.js"></script>
    <script src="../common/sidebar.js"></script>
    <script src="../../assets/js/modal.js"></script>
    <script src="client.js"></script>
  </body>
</html>
